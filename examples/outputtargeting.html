<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />

	<title>PyScript Hello World</title>

	<link rel="icon" type="image/png" href="favicon.png" />


	<script defer src="../pyscriptjs/build/pyscript.js"></script>
	<link rel="stylesheet" href="../pyscriptjs/build/pyscript.css" />

	<!-- <script src="https://cdn.tailwindcss.com"></script> -->
	<style>
		button {
			margin: 0.5rem;
			border-width: 2px;
			border-color: #E5E7EB;
		}

		.output-div{
			margin: 0.5rem;
			border-width: 2px;
			background-color: #FFFBEB;
		}

		h1 {
			font-size: 1.5rem;
			line-height: 2rem;
		}

		.outer {
			display: grid;
			border-top-width: 2px;
			grid-template-columns: repeat(1, minmax(0, 1fr));
			row-gap: 5rem;
		}

		.section {
			display: grid;
			grid-template-columns: repeat(2, minmax(0, 1fr));
		}

		code {
			background-color: gainsboro;
			color:brown;
		}
	</style>
</head>

<body>
	<p>Each of the following sections contains a &lt;py-script&gt; tag, a &lt;py-repl&gt; tag, a &lt;button&gt; with the <code>py-onClick</code> attribute, and a &lt;py-button&gt; tag. Within each section, all four tags use the same syntax to call <code>display()</code>, which you can see in the REPL.</p>
	<div class="outer">
				<!-- These should all output to #explicit-target-div -->
			<div>
				<h1>Outputs to 'target' argument of display() (A)</h1>
				<p><i>Calls to display() with an explicit <code>targetID</code> argument route their output to the tag on the page with the matching ID, or error if no such tag exists.</i></p>
				<div class="section">
					<div id="explicit-target-div-scripts">
						<py-script>display("A", targetID="explicit-target-div")</py-script>
						<py-repl id="r1">display("A", targetID="explicit-target-div")</py-repl>
						<button id="b1" py-onClick='display("A", targetID="explicit-target-div")'>A</button>
						<br><py-button id="pb1" label="Py-Button A">def on_click(*args): display("A", targetID="explicit-target-div")</py-button>
					</div>
					<div id="explicit-target-div" class="output-div">#explicit-target-div (A)</div>
				</div>
			</div>

			<!-- These should all output to #Output-target Div -->
			<div>
				<h1>Outputs to tag specified by 'output-target' attribute (B)</h1>
				<p><i>Calls to display() that do not have a <code>targetID</code> argument, but are called from an HTML tag with a <code>output-target</code> attribute route their output to the tag on the page with the ID matching the value of that attribute, or error if no such tag exists.</i></p>
				<div class="section">
					<div id="display-target-scripts">
						<py-script output-target="output-target-div">display("B")</py-script>
						<py-repl output-target="output-target-div" id="r2">display("B")</py-repl>
						<button output-target="output-target-div" id="b2" py-onClick='display("B")'>B</button>
						<br><py-button output-target="output-target-div" id = "pb2" label="Py-Button B">def on_click(*args): display("B")</py-button>
					</div>
					<div id="output-target-div" class="output-div">#output-target-div (B)</div>
				</div>
			</div>

			<!-- These should all output to the location set in PyConfig, or default if there isn't one -->
				<div>
					<h1>Outputs to location set in Py-config, or adjacent to element (C)</h1>
					<p><i>If a default output location is set in &lt;py-config&gt;, any calls to display() that don't have a <code>targetID</code> argument and aren't in a tag with an <code>output-targetting attribute</code></i></p>
					<p><i>If no default location is set in &lt;py-config&gt;, the output from such calls is placed as the next sibling of the calling tag. You can use the radio buttons below to simulate whether the default is set in &lt;py-config&gt; and observe both behaviors.</i></p>
					<input type="radio" name="pyconfig-hasdefault" id="yes-default" checked py-change="radio_button_change(True)"><label for="yes-default"> Default output location set to 'default-location-div' in &lt;py-config&gt;</label>
					<br><input type="radio" name="pyconfig-hasdefault" id="none-default" py-change="radio_button_change(False)"><label for="yes-default"> No default output location set in &lt;py-config&gt;</label>
					<div class="section">
						<div id="default-location-scripts">
							<py-script>display("C")</py-script>
							<py-repl id="r3">display("C")</py-repl>
							<button id="b3" py-onClick='display("C")'>C</button>
							<br><py-button id = "pb3" label="Py-Button C">def on_click(*args): display("C")</py-button>
						</div>
						<div id="default-location-div" class="output-div">#default-location-div (C)</div>
					</div>
				</div>
		</div>
<!-- <div style="height:40rem"></div> -->
<py-script>
	from js import console as jsconsole
	def radio_button_change(use_default):
		jsconsole.log("Called radio_button_change")
		global appConfig_default_output_location
		if use_default:
			appConfig_default_output_location = "default-location-div"
		else:
			appConfig_default_output_location = None
		jsconsole.log(appConfig_default_output_location)
</py-script>
</body>
</html>
