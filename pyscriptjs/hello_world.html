<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>PyScript Hello World</title>

    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="stylesheet" href="../build/pyscript.css" />
    <link rel="stylesheet" href="./assets/css/examples.css" />
    <script defer src="../build/pyscript.js"></script>
  </head>

  <body>
    <nav class="navbar" style="background-color: #000000;">
      <div class="app-header">
        <a href="/">
          <img src="./logo.png" class="logo">
        </a>
        <a class="title" href="" style="color: #f0ab3c;">Hello World</a>
      </div>
    </nav>

    <py-tutor>
      <py-config>
        plugins = [
          "../build/plugins/python/py_tutor.py"
        ]
      </py-config>
      <!-- <button py-click="pop">call loo on click w event + 123</button><br><br>
      <button onclick="pys_handler.fun()">fun</button><br><br> -->
      <button id="fab">myfoo</button><br><br>
      <button id="who">mywho</button><br><br>
      <button py-click="mydoo">mydoo</button><br><br>
      <button py-click="myboo">my function doesn't take argument, with py-click</button><br><br>
      <button py-click="ohno">Two arguments?</button><br><br>
      <button py-click="instance.somefunc">Instance Method</button><br><br>
      <button py-click="instance.someEventFunc">Instance Method with Event</button><br><br>
      <button py-click="colorize('red')">Misusing Eval</button><br><br>
      <py-repl></py-repl>
      <section class="pyscript">
        Hello world! ðŸ¦„<br>

<py-script>
import js
from pyodide.ffi import to_js

class Instance():
  def somefunc(self):
    print(self)
    print("Somefunc got called")

  def someEventFunc(self, evt):
    print("Got event with target ", evt.target)
    print("someEventFunc got called")

instance = Instance()

# maybe we could accept name so we can select several tags
@when("click", id="fab")
def myfoo(evt):
    print(f"I've clicked {evt.target} with id {evt.target.id}")

@when("click", id="who")
def who():
    print(f"Mywho got called successfully")

def mydoo(evt):
    print(f"I've called mydoo, clicked {evt.target} with id {evt.target.id}")


def myboo():
    print(f"I've clicked myboo, and it ran with no arguements")

def ohno(first, second):
    print(f"I got {first=}, {second=}")

#@pys_handler(options="blah")
#def fun(func_param="blu"):
#  print('ðŸ”¥')

#def pop(evt):
#  return loo(evt, 123)

#@pys_handler
#def a():
#  js.console.log("loo called with *event")

#@pys_handler
#def loo(*e):
#    js.console.log("loo called with *event")
#    js.console.log( e[0] )
#    js.console.log( e[1] )
        </py-script>
      </section>
    </py-tutor>
  </body>
</html>
